import{_ as A,a as G,b as H,c as J,d as U}from"../modules/unplugin-icons-2hV70NCQ.js";import{t as j,_ as W,d as T,c as x,i as m,z as o,o as u,I as h,b as y,e as t,l as c,x as S,F as O,X as E,$ as X,a0 as K,h as $,p as L,a as Q,C as B,Q as Y,a1 as Z,J as ee,a2 as te,a3 as se,k,g as z,a4 as oe}from"../modules/vue-6QpwdnMK.js";import{b as q,c as M,k as ne,l as le,f as ae,u as re,m as C,n as w,o as ie,p as ce,q as ue,r as de,v as pe,w as F,t as me}from"../index-DobqPNfj.js";import{r as ve,u as _e,S as P,I as R,Q as fe,a as xe,N as he,G as be}from"./SlidesShow-Bkex4TLd.js";import{s as ge,b as I,p as ye,S as ke,g as Ce,c as we,i as Se,d as $e}from"./bottom-Czvzt10h.js";import{i as Ne}from"./DrawingPreview-DYWKVPJO.js";import{N as ze}from"./NoteDisplay-DOqWxATz.js";import Fe from"./DrawingControls-CIAiZpD-.js";import"../modules/shiki-Ceez9vfC.js";function Ie(l){if(l==null)return{info:j(),update:async()=>{}};const r=`/@slidev/slide/${l}.json`,{data:s,execute:a}=W(r).json().get();return a(),{info:s,update:async d=>await fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)}).then(n=>n.json())}}const je=T({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(l){const r=l,{info:s}=Ie(r.no);return(a,v)=>{var d,n;return u(),x(ze,{class:m(r.class),note:(d=o(s))==null?void 0:d.note,"note-html":(n=o(s))==null?void 0:n.noteHTML,"clicks-context":a.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Te=q(je,[["__file","/home/jonte/apps/settling-for-performance/node_modules/.pnpm/@slidev+client@0.48.0-beta.24_postcss@8.4.35_vite@5.1.5/node_modules/@slidev/client/internals/NoteStatic.vue"]]),qe=l=>(L("data-v-e2ae4c35"),l=l(),Q(),l),De=["title"],Ve={class:"flex gap-1 items-center min-w-16"},Be={"text-primary":""},Me=qe(()=>t("span",{op50:""},"/",-1)),Pe={op50:""},Re=["max"],Oe=T({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(l){const r=l,s=h(()=>r.clicksContext.total),a=h({get(){return r.clicksContext.current>s.value?-1:r.clicksContext.current},set(n){r.clicksContext.current=n}}),v=h(()=>Array.from({length:s.value+1},(n,i)=>i));function d(){(a.value<0||a.value>s.value)&&(a.value=0)}return(n,i)=>{const _=A;return u(),y("div",{class:m(["flex gap-0.5 items-center select-none",s.value?"":"op50"]),title:`Clicks in this slide: ${s.value}`},[t("div",Ve,[c(_,{"text-sm":"",op50:""}),t("span",Be,S(a.value),1),Me,t("span",Pe,S(s.value),1)]),t("div",{relative:"","flex-auto":"",h5:"",flex:"~",onDblclick:i[2]||(i[2]=e=>a.value=n.clicksContext.total)},[(u(!0),y(O,null,E(v.value,e=>(u(),y("div",{key:e,border:"y main","of-hidden":"",relative:"",class:m([e===0?"rounded-l border-l":"",e===s.value?"rounded-r border-r":""]),style:$({width:s.value>0?`${1/s.value*100}%`:"100%"})},[t("div",{absolute:"","inset-0":"",class:m(e<=a.value?"bg-primary op20":"")},null,2),t("div",{class:m([+e==+a.value?"text-primary font-bold op100 border-primary":"op30 border-main",e===0?"rounded-l":"",e===s.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},S(e),3)],6))),128)),X(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),class:"range",absolute:"","inset-0":"",type:"range",min:0,max:s.value,step:1,"z-10":"",op0:"",style:$({"--thumb-width":`${1/(s.value+1)*100}%`}),onMousedown:d,onFocus:i[1]||(i[1]=e=>{var f;return(f=e.currentTarget)==null?void 0:f.blur()})},null,44,Re),[[K,a.value]])],32)],10,De)}}}),Le=q(Oe,[["__scopeId","data-v-e2ae4c35"],["__file","/home/jonte/apps/settling-for-performance/node_modules/.pnpm/@slidev+client@0.48.0-beta.24_postcss@8.4.35_vite@5.1.5/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),D=l=>(L("data-v-192673c9"),l=l(),Q(),l),Qe={class:"bg-main h-full slidev-presenter"},Ae=D(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Ge={class:"relative grid-section next flex flex-col p-2 lg:p-4"},He=D(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Je={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ue={class:"border-t border-main py-1 px-2 text-sm"},We={class:"grid-section bottom flex"},Ee=D(()=>t("div",{"flex-auto":""},null,-1)),Xe={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},Ke={class:"progress-bar"},Ye=T({__name:"presenter",setup(l){const r=j();ve(),_e(r);const s=M.titleTemplate.replace("%s",M.title||"Slidev");ne({title:`Presenter - ${s}`}),j(!1);const{timer:a,resetTimer:v}=le(),d=h(()=>ae.value.map(_=>re(_))),n=h(()=>C.value.current<C.value.total?[w.value,C.value.current+1]:ie.value?[ce.value,0]:null),i=h(()=>n.value&&d.value[n.value[0].no-1]);return B([w,ue],()=>{i.value&&(i.value.current=n.value[1])},{immediate:!0}),Y(),Z(()=>{const _=r.value.querySelector("#slide-content"),e=ee(te()),f=se();B(()=>{if(!f.value||Ne.value||!ge.value)return;const p=_.getBoundingClientRect(),b=(e.x-p.left)/p.width*100,g=(e.y-p.top)/p.height*100;if(!(b<0||b>100||g<0||g>100))return{x:b,y:g}},p=>{de.cursor=p})}),(_,e)=>{var V;const f=G,p=H,b=J,g=U;return u(),y(O,null,[t("div",Qe,[t("div",{class:m(["grid-container",`layout${o(ye)}`])},[t("div",{ref_key:"main",ref:r,class:"relative grid-section main flex flex-col"},[c(P,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto"},{default:k(()=>[c(xe,{"render-context":"presenter"})]),_:1}),(u(),x(Le,{key:(V=o(w))==null?void 0:V.no,"clicks-context":o(pe)(o(w)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Ae],512),t("div",Ge,[n.value&&i.value?(u(),x(P,{key:"next",class:"h-full w-full"},{default:k(()=>[(u(),x(ke,{is:n.value[0].component,key:n.value[0].no,"clicks-context":i.value,class:m(o(Ce)(n.value[0])),route:n.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):z("v-if",!0),He]),z(" Notes "),(u(),y("div",Je,[(u(),x(Te,{key:`static-${o(F)}`,no:o(F),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:$({fontSize:`${o(we)}em`}),"clicks-context":o(C)},null,8,["no","style","clicks-context"])),t("div",Ue,[c(R,{title:"Increase font size",onClick:o(Se)},{default:k(()=>[c(f)]),_:1},8,["onClick"]),c(R,{title:"Decrease font size",onClick:o($e)},{default:k(()=>[c(p)]),_:1},8,["onClick"]),z("v-if",!0)])])),t("div",We,[c(he,{persist:!0}),Ee,t("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:e[2]||(e[2]=(...N)=>o(v)&&o(v)(...N))},[c(b,{class:"absolute"}),c(g,{class:"absolute opacity-0"})]),t("div",Xe,S(o(a)),1)]),(u(),x(Fe,{key:2}))],2),t("div",Ke,[t("div",{class:"progress h-3px bg-primary transition-all",style:$({width:`${(o(F)-1)/(o(me)-1)*100}%`})},null,4)])]),c(be),c(fe,{modelValue:o(I),"onUpdate:modelValue":e[3]||(e[3]=N=>oe(I)?I.value=N:null)},null,8,["modelValue"])],64)}}}),it=q(Ye,[["__scopeId","data-v-192673c9"],["__file","/home/jonte/apps/settling-for-performance/node_modules/.pnpm/@slidev+client@0.48.0-beta.24_postcss@8.4.35_vite@5.1.5/node_modules/@slidev/client/pages/presenter.vue"]]);export{it as default};
